"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Clock, Heart, MapPin, Sparkles, Star, TrendingUp, Users, Zap } from "lucide-react";
import Image from "next/image";
import Link from "next/link";
import { useState } from "react";
import { motion } from "framer-motion";
export default function EnhancedActivityCard({ activity }) {
    const [isWishlisted, setIsWishlisted] = useState(false);
    const handleWishlistToggle = (e) => {
        e.preventDefault();
        setIsWishlisted(!isWishlisted);
    };
    // Get primary image with better fallback handling
    const primaryImage = activity.images.find(img => img.isPrimary) || activity.images[0];
    const imageUrl = primaryImage?.imageUrl ||
        `https://images.unsplash.com/photo-1577948000111-9c970dfe3743?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D`;
    const [imageError, setImageError] = useState(false);
    const fallbackImageUrl = `https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D`;
    // Get adult pricing
    const adultPricing = activity.pricing.find(p => p.priceType === "adult");
    const price = adultPricing ? parseFloat(adultPricing.basePrice) : 0;
    return (_jsx(motion.div, { initial: { opacity: 0, y: 50, scale: 0.9 }, whileInView: { opacity: 1, y: 0, scale: 1 }, transition: { duration: 0.6 }, whileHover: { y: -10, scale: 1.02 }, className: "group cursor-pointer", children: _jsx(Link, { href: `/activities/${activity.slug}`, children: _jsxs("div", { className: "hover:shadow-3xl w-full overflow-hidden rounded-xl border border-white/10 bg-black/20 shadow-2xl shadow-black/10 backdrop-blur-xl transition-all duration-300 hover:border-orange-400/50 hover:shadow-orange-500/30", style: {
                    backdropFilter: "blur(20px) saturate(180%)",
                    WebkitBackdropFilter: "blur(20px) saturate(180%)"
                }, children: [_jsxs("div", { className: "relative h-56 overflow-hidden", children: [_jsx(Image, { src: imageError ? fallbackImageUrl : imageUrl, alt: primaryImage?.altText || activity.title, fill: true, className: "object-cover transition-transform duration-500 group-hover:scale-110", sizes: "(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw", onError: () => setImageError(true), placeholder: "blur", blurDataURL: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkbHB0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bz6tp9NrhAVaLH4a8YnqH8Ey41dC" }), _jsx("div", { className: "absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent" }), _jsxs("div", { className: "absolute inset-x-4 top-4 flex items-start justify-between", children: [_jsxs("div", { className: "flex flex-col gap-2", children: [activity.featured && (_jsxs(Badge, { className: "bg-gradient-to-r from-yellow-400 to-amber-500 font-bold text-white shadow-xl", children: [_jsx(Sparkles, { className: "mr-1 size-3" }), "Featured"] })), activity.availableToday && (_jsxs(Badge, { className: "bg-green-500 font-bold text-white shadow-lg", children: [_jsx(Zap, { className: "mr-1 size-3" }), "Available Today"] }))] }), _jsx(Button, { size: "icon", variant: "ghost", onClick: handleWishlistToggle, className: "size-10 bg-black/20 text-white backdrop-blur-sm hover:bg-black/40", children: _jsx(Heart, { className: `size-5 ${isWishlisted ? "fill-red-500 text-red-500" : ""}` }) })] }), _jsx("div", { className: "absolute inset-x-4 bottom-4", children: _jsxs("div", { className: "flex items-center gap-2 text-sm text-white/90", children: [_jsx(Star, { className: "size-4 fill-yellow-400 text-yellow-400" }), _jsx("span", { className: "font-semibold", children: activity.avgRating }), _jsxs("span", { className: "text-white/70", children: ["(", activity.totalReviews, ")"] }), activity.spotsLeft && activity.spotsLeft <= 5 && (_jsxs(Badge, { className: "ml-auto bg-red-500 text-xs font-bold text-white", children: ["Only ", activity.spotsLeft, " left!"] }))] }) })] }), _jsxs("div", { className: "p-6", children: [_jsx("h3", { className: "mb-3 line-clamp-2 text-xl font-bold text-white transition-colors group-hover:text-orange-400", children: activity.title }), _jsx("p", { className: "mb-4 line-clamp-2 text-sm leading-relaxed text-gray-300", children: activity.shortDescription }), _jsxs("div", { className: "mb-4 space-y-2", children: [_jsxs("div", { className: "flex items-center gap-2 text-sm text-gray-400", children: [_jsx(MapPin, { className: "size-4" }), _jsx("span", { children: activity.location })] }), _jsxs("div", { className: "flex items-center gap-2 text-sm text-gray-400", children: [_jsx(Clock, { className: "size-4" }), _jsxs("span", { children: [Math.round(activity.durationMinutes / 60), "h duration"] })] }), _jsxs("div", { className: "flex items-center gap-2 text-sm text-gray-400", children: [_jsx(Users, { className: "size-4" }), _jsxs("span", { children: ["Up to ", activity.maxParticipants, " people"] })] })] }), _jsxs("div", { className: "mb-4 flex items-center justify-between text-sm", children: [_jsxs("div", { className: "flex items-center gap-1 text-gray-400", children: [_jsx(TrendingUp, { className: "size-4" }), _jsxs("span", { children: [activity.totalBookings, " bookings"] })] }), _jsxs("div", { className: "text-right", children: [_jsxs("div", { className: "text-2xl font-bold text-orange-400", children: ["\u20AC", price] }), _jsx("div", { className: "text-xs text-gray-500", children: "per person" })] })] }), _jsx(Link, { href: `/book/${activity.id}/select`, onClick: e => e.stopPropagation(), children: _jsx(Button, { className: "w-full bg-gradient-to-r from-pink-500 to-yellow-500 text-white hover:from-pink-600 hover:to-yellow-600", children: "Book Now" }) })] })] }) }) }));
}
//# sourceMappingURL=component.js.map