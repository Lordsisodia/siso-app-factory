"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useRef, useState } from "react";
import { Dialog, DialogClose, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import Link from "next/link";
export function TermsDialog({ open, onAccept, onClose }) {
    const [hasReadToBottom, setHasReadToBottom] = useState(false);
    const contentRef = useRef(null);
    const handleScroll = () => {
        const content = contentRef.current;
        if (!content)
            return;
        const scrollPercentage = content.scrollTop / (content.scrollHeight - content.clientHeight);
        if (scrollPercentage >= 0.99 && !hasReadToBottom) {
            setHasReadToBottom(true);
        }
    };
    return (_jsx(Dialog, { open: open, onOpenChange: onClose, children: _jsxs(DialogContent, { className: "flex flex-col gap-0 p-0 max-h-[calc(100vh-100px)] rounded-lg sm:max-h-[min(640px,80vh)] sm:max-w-lg [&>button:last-child]:top-3.5", children: [_jsxs(DialogHeader, { className: "contents space-y-0 text-left", children: [_jsx(DialogTitle, { className: "border-b border-border px-6 py-4 text-base", children: "21st.dev API Terms of Use" }), _jsx("div", { ref: contentRef, onScroll: handleScroll, className: "overflow-y-auto", children: _jsx(DialogDescription, { asChild: true, children: _jsx("div", { className: "px-6 py-4", children: _jsx("div", { className: "space-y-4 [&_strong]:font-semibold [&_strong]:text-foreground", children: _jsxs("div", { className: "space-y-6", children: [_jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "1. Purpose and Acceptable Use" }) }), _jsx("p", { children: "The 21st.dev API (\"API\") is provided to allow authorized users to search for, discover, and integrate components with their projects. The API is intended solely for real-time searches and installations of components, with all dependencies automatically included." })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "2. API Key Use" }) }), _jsxs("ul", { className: "list-disc pl-6 space-y-1", children: [_jsx("li", { children: "The API key provided to you is personal, non-transferable, and cannot be shared with any third party." }), _jsx("li", { children: "You must implement strict access controls to ensure your API key is only used within authorized environments (e.g., server-side only or through secure client applications)." }), _jsx("li", { children: "Storing or caching API responses is prohibited, except for temporary use (e.g., caching for up to 5 minutes to reduce server load). Data must not be stored persistently." })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "3. Prohibited Activities" }) }), _jsxs("ul", { className: "list-disc pl-6 space-y-1", children: [_jsx("li", { children: "You are strictly prohibited from using the API to scrape, bulk download, or store any data, including but not limited to component metadata, links, or installation code." }), _jsx("li", { children: "Decompiling, reverse engineering, or otherwise attempting to extract the source code of any components or the API itself is forbidden." }), _jsx("li", { children: "You may not redistribute, rehost, or otherwise make the API responses or associated component code publicly available." })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "4. Data Usage and Ownership" }) }), _jsxs("ul", { className: "list-disc pl-6 space-y-1", children: [_jsx("li", { children: "API consumers are not permitted to store component code or metadata locally beyond what is necessary for immediate installation and usage within their application." }), _jsx("li", { children: "All API responses, including component metadata and links, are subject to the licensing terms specified for each component. You are responsible for ensuring compliance." })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "5. Rate Limits and Monitoring" }) }), _jsxs("ul", { className: "list-disc pl-6 space-y-1", children: [_jsx("li", { children: "The API is subject to rate limits, which will be communicated at the time of your onboarding. Exceeding these limits may result in temporary or permanent suspension of your access." }), _jsx("li", { children: "All API usage is monitored to detect and prevent unauthorized use. Suspicious activity, including scraping or excessive requests, will result in immediate termination of access." })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "6. Security Requirements" }) }), _jsxs("ul", { className: "list-disc pl-6 space-y-1", children: [_jsx("li", { children: "API keys must be stored securely and not exposed in client-side code, public repositories, or other insecure environments." }), _jsx("li", { children: "All API requests must include the API key as part of the request headers. Unauthorized requests will be blocked." }), _jsx("li", { children: "All communication with the API must occur over HTTPS to protect data in transit." })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "7. Enforcement and Penalties" }) }), _jsxs("ul", { className: "list-disc pl-6 space-y-1", children: [_jsx("li", { children: "Violation of these terms may result in immediate suspension or permanent revocation of API access." }), _jsx("li", { children: "Unauthorized use of the API, including scraping or storing data in violation of these terms, may result in legal action to protect our intellectual property." })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "8. Guidelines for Component Installation and Magic Usage" }) }), _jsxs("ul", { className: "list-disc pl-6 space-y-1", children: [_jsx("li", { children: "API consumers must use the installation links provided by the API to install components, ensuring all dependencies are properly included." }), _jsx("li", { children: "Modifying, forking, or creating derivative works based on the components accessed via the API is prohibited unless explicitly allowed by the component's license." }), _jsx("li", { children: "When using Magic through the API key, you agree to use it for your personal or organization's development purposes only." }), _jsx("li", { children: "Components and code generated through Magic remain subject to the same usage terms as those accessed via the API." }), _jsx("li", { children: "You may not share, redistribute, or resell access to Magic functionality through your API key." })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "9. Support and Contact" }) }), _jsxs("p", { children: ["For support, questions, or to report potential misuse, please contact us at", " ", _jsx(Link, { href: "mailto:support@21st.dev", className: "text-primary hover:underline", children: "support@21st.dev" })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("p", { children: _jsx("strong", { children: "10. Changes to Terms" }) }), _jsx("p", { children: "21st.dev reserves the right to update these terms at any time. Continued use of the API constitutes acceptance of the updated terms." })] }), _jsx("div", { className: "space-y-2", children: _jsx("p", { className: "text-sm text-muted-foreground", children: "By using the 21st.dev API, you agree to adhere to these terms and any applicable laws and regulations. Failure to comply may result in the suspension or termination of your API access." }) })] }) }) }) }) })] }), _jsxs(DialogFooter, { className: "border-t border-border px-6 py-4 sm:items-center gap-3 sm:gap-[inherit]", children: [!hasReadToBottom && (_jsx("span", { className: "grow text-xs text-muted-foreground max-sm:text-center", children: "Read all terms before accepting." })), _jsx(DialogClose, { asChild: true, children: _jsx(Button, { type: "button", variant: "outline", onClick: onClose, children: "Cancel" }) }), _jsx(Button, { type: "button", onClick: onAccept, disabled: !hasReadToBottom, children: "Accept & Continue" })] })] }) }));
}
//# sourceMappingURL=component.js.map